<!DOCTYPE html>
<html lang="en-us">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Simple Insurance Claims Simulation</title>
  
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="robots" content="all,follow" >
  <meta name="googlebot" content="index,follow,snippet,archive" >
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
  
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Roboto:400,300,700,400italic" >
  <link rel="stylesheet" href="https://ractuary.github.io/css/font-awesome.min.css" />
  
  <meta name="google-site-verification" content="agjsDt8HXS4yYizS-kj6OnNXvJ-3J-ONvc2vVejs4ZQ" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.3.0/css/mdb.min.css" />
  <link href="https://ractuary.github.io/css/style.css" rel="stylesheet" />
  
  <link rel="shortcut icon" href="https://ractuary.github.io/img/favicon.png" />
  
  
  <link rel="stylesheet" href="https://ractuary.github.io/css/tychobra-hljs.css">
  
  <script src="https://ractuary.github.io/js/highlight.pack.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  
  <link href="https://ractuary.github.io/css/simplesidebar.css" rel="stylesheet" >
  
<script>
window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
ga('create', 'UA-56381152-2', 'auto');
ga('send', 'pageview');
</script>
<script async src='//www.google-analytics.com/analytics.js'></script>

</head>

<body>
  
    
            
<div id="wrapper" class="toggled">
<div id="sidebar-wrapper">
  <div id="sidebar-content">
    <h1 class="sidebar-heading">
      <a href="https://ractuary.github.io/">
        <img src="https://ractuary.github.io/img/ractuary-logo.png" height="50" width="50"/> Actuary
      </a>
    </h1>
    <br />
    <ul class="nav flex-column">
      
      
        <li class="nav-item">
          <a class="nav-link" href="https://ractuary.github.io/about/">
          <div class="row">
            <div class="col-2">
              <i class="fa fa-info-circle"></i> 
            </div>
            <div class="col-10">
              About
            </div>
          </div>
          </a>
        </li>
      
        <li class="nav-item">
          <a class="nav-link" href="https://ractuary.github.io/projects/">
          <div class="row">
            <div class="col-2">
              <i class="fa fa-folder-open"></i> 
            </div>
            <div class="col-10">
              Projects
            </div>
          </div>
          </a>
        </li>
      
        <li class="nav-item">
          <a class="nav-link" href="https://ractuary.github.io/tutorials/">
          <div class="row">
            <div class="col-2">
              <i class="fa fa-graduation-cap"></i> 
            </div>
            <div class="col-10">
              Tutorials
            </div>
          </div>
          </a>
        </li>
      
        <li class="nav-item">
          <a class="nav-link" href="https://ractuary.github.io/gallery/">
          <div class="row">
            <div class="col-2">
              <i class="fa fa-bar-chart"></i> 
            </div>
            <div class="col-10">
              Gallery
            </div>
          </div>
          </a>
        </li>
      
        <li class="nav-item">
          <a class="nav-link" href="https://ractuary.github.io/blog/">
          <div class="row">
            <div class="col-2">
              <i class="fa fa-newspaper-o"></i> 
            </div>
            <div class="col-10">
              Blog
            </div>
          </div>
          </a>
        </li>
      
    </ul>
  </div>
</div>

<div class="col-12">
  <div class="row" style="height: 40px; position: fixed; z-index:100000">
  <a href="#menu-toggle" 
     class="btn menu-toggled" 
     id="menu-toggle"
     style="top:0; z-index:100;">
    <i class="fa fa-align-left "> </i>  
  </a>
</div>

  <div class="row main-content">
    <div class="content-column-content col-xl-10">
        <a href="https://ractuary.github.io/tutorials/">Back to Tutorials</a>
        <br />
        <br />
        <div class="card">
          <div class="card-block">
          <h1 class="car-title">Simple Insurance Claims Simulation</h1>
          <br />
          <br />
          <div id="a-single-frequencyseverity-observation" class="section level2">
<h2>A Single Frequency/Severity Observation</h2>
<p>Warning: This tutorial is just a placeholder so don’t working through it.</p>
<p>We will start running one frequency severity simulation. We will firts simulate the frequency (i.e. the number of claims), and then we will simulate a severity for each simulated claim.</p>
<div id="step-1-simulate-a-single-frequency" class="section level3">
<h3>Step 1: simulate a single frequency</h3>
<p>We are using the poisson distriubtion to simulate the frequency. The poisson distribution has one parameter (<code>lambda</code>). Both the mean and the variance of the poisson distribution are equal to <code>lambda</code>. Without further adu let’s run the simulation:</p>
<pre class="r"><code>set.seed(3000)

freq &lt;- rpois(n = 1, lambda = 10)
freq</code></pre>
<pre><code>#&gt; [1] 13</code></pre>
<p>We simulated 13 claims.</p>
</div>
<div id="step-2-severity-simulation" class="section level3">
<h3>Step 2: Severity Simulation</h3>
<p>Now we will simulate a severity for each of these 13 claims. We will use the lognormal distributions here.</p>
<pre class="r"><code>severity &lt;- rlnorm(n = freq, meanlog = 9, sd = 1.9)
severity</code></pre>
<pre><code>#&gt;  [1]  27585.0343  19542.7042  35016.7195   5270.9408   4154.9639
#&gt;  [6]   2359.7060    735.8857    322.2873    248.4781   1696.8470
#&gt; [11]    374.5661  14470.0607 138278.2592</code></pre>
</div>
<div id="step-3-inspect-the-results" class="section level3">
<h3>Step 3: Inspect the Results</h3>
<pre class="r"><code>summary(severity)</code></pre>
<pre><code>#&gt;     Min.  1st Qu.   Median     Mean  3rd Qu.     Max. 
#&gt;    248.5    735.9   4155.0  19240.0  19540.0 138300.0</code></pre>
<p>Ok. That looks pretty good. Now let’s do what computers do best and scale the number of computations up a bit.</p>
</div>
</div>
<div id="multiple-frequencyseverity-observations" class="section level2">
<h2>Multiple Frequency/Severity Observations</h2>
<div id="step-1-simulate-the-frequencies" class="section level3">
<h3>Step 1: simulate the frequencies</h3>
<pre class="r"><code># set the number of observations
n_obs &lt;- 1000

# run the frequency simulations
freq &lt;- rpois(n_obs, 10)

# inspect some of the simulated frequencies
freq[1:20]</code></pre>
<pre><code>#&gt;  [1] 10  8 11 11 13 17  8 15  9 15  9 12  6  8  8 11 13  7 15 10</code></pre>
</div>
<div id="step-2-simulate-the-severities" class="section level3">
<h3>Step 2: Simulate the Severities</h3>
<p>Now we are going to run severity simulations for each of our simulated frequencies. This is where things may start to get a little be complicated if you are just starting out.</p>
<pre class="r"><code>severity &lt;- lapply(freq, function(x) {
  rlnorm(n = x, meanlog = 9, sd = 1.9)
})</code></pre>
<p>In the above code we used the <code>lapply()</code> function to run the <code>rlnorm()</code> function on each of the elements in out <code>freq</code> vector. The output is a list with 1000 elements. Each element in our list output contains the number of simulated severities as specified in the <code>freq</code> vector. e.g. the first two frequency simulations were 10, 8 and the first two elements in our <code>severity</code> list are:</p>
<pre class="r"><code>severity[1:2]</code></pre>
<pre><code>#&gt; [[1]]
#&gt;  [1] 1207648.3071    7162.4942     943.3199   27414.2922   52984.9986
#&gt;  [6]     767.3141   11866.0220    9226.3428   78598.8073    4117.2499
#&gt; 
#&gt; [[2]]
#&gt; [1]  1050.4483  4785.0691  6728.8804   659.4182   785.1295   549.3497
#&gt; [7]  9945.6607 98724.3965</code></pre>
<p>You can see above that <code>severity[[1]]</code> has 10 simulated values and <code>severity[[2]]</code> has 8 simulated values.</p>
</div>
</div>
<div id="step-3-tidy-the-data" class="section level2">
<h2>Step 3: Tidy the Data</h2>
</div>

          </div>
        </div>
    </div>
  </div>
    <br />
    <hr />
    <div class="row main-content">
      <div class="col-12">
        <p class="copyright pull-right">
          
            &copy;2017 RActuary | All Rights Reserved
          
        </p>
      </div>
    </div>
  </div>
  


<script
  src="https://code.jquery.com/jquery-3.2.1.min.js"
  integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
  crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js" integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.3.0/js/mdb.min.js"></script>
<script src="https://ractuary.github.io/js/custom.js"></script>

</body>
</html>
