---
title: "About R Actuary"
author: "Andy Merlino"
---

R is a powerful platform for data analysis, and it continues to improve.  It is easier than ever to get started in R, and, once you get comfortable, you might be surprised at the quality and elegance of the analyses you can create (e.g. this website was built using the [blogdown](https://github.com/rstudio/blogdown) R package).  R is not just statistical software; it is an end to end data science platform with interfaces to other state of the art software like [Spark](http://spark.apache.org/) and [Tensorflow](https://www.tensorflow.org/).

We believe R's current capabilities, its rate of improvement, and its ability to adapt to the changing data science landscape make it ideal for the future of actuarial analysis.  Most of the innovation in R comes from R packages, and the acceleration of innovation is obvious when you look at growth in packages on [CRAN](https://en.wikipedia.org/wiki/R_(programming_language)#CRAN).

```{r, echo = FALSE }
num_pkg <- read.csv("./blog/about/num-r-packages.csv", stringsAsFactors = FALSE)
num_pkg <- num_pkg[, -1]
num_pkg$date <- as.Date(num_pkg$date)

current_pckg_num <- data.frame(
  date = Sys.Date(),
  pkgs = nrow(available.packages(repos='http://cran.us.r-project.org'))
)

num_pkg <- rbind(num_pkg, current_pckg_num)
```

```{r, message = FALSE, eval = FALSE, echo = FALSE }
library(plotly)
library(dplyr)
library(lubridate)

num_pkg_2007 <- num_pkg %>%
                  mutate(year = year(date)) %>%  
                  filter(year %in% c("2007", "2017")) %>%
                  group_by(year) %>%
                  top_n(-1, date)

mark_2007 <- list(
  x = num_pkg_2007$date,
  y = num_pkg_2007$pkgs,
  text = ~paste(format(num_pkg_2007$pkgs, big.mark = ","), " Packages"),
  xref = "x",
  yref = "y",
  showarrow = TRUE,
  arrowhead = 7,
  ax = -20,
  ay = -40
)

g <- plot_ly(num_pkg, x = ~date, y = ~pkgs, mode = "line") %>%
       layout(title = "Packages on CRAN",
              xaxis = list(title = "Year"),
              yaxis = list(title = "Packages"),
              annotations = mark_2007) %>%
       config(displaylogo = FALSE, displayModeBar = FALSE)
       
g
#htmlwidgets::saveWidget(g, file = "./blog/about/cran-pkgs.html", selfcontained = TRUE)
```

<iframe src="../blog/about/cran-pkgs/index.html" width = "100%" height="500" ></iframe>

CRAN was created in 1997, so it took 10 years to get to 1,000 packages in 2007 and 10 more year to get to 10,000 packages in 2017.  The number of packages on CRAN is doubling every 3 years. Will CRAN have 100,000 packages in 2027?

## Actuaries

Most actuaries think R is interesting, some actuaries even use R regularly, but as of 2017 it is rare to find an actuary who uses R (or any programmed data analysis) more than he or she uses Excel.

By transitioning more of our analyses to R we can unlock the ever expanding power of the R ecosystem.  We just need to build out the tools and spread the knowledge.  Major improvments are within our grasps.

The largest and most immediate improvements to actuarial analysis can be made by using R to generate reports, communicate via the web, and work in reproducible workflows.  Data analysis is a lot more than fitting statistical models. Gathering and wrangling data and communicating your findings is often much more time consuming than the statistical modeling.  We want every actuary to have the powers of R for practical data analysis. Practical data analysis means gathering the data, cleaning it, and producing a report or web app.  To help actuaries use R efficiently, we create open source R packages and projects that focus first on practical actuarial analysis and second on advances in actuarial modeling.

## Rstudio

We use Rstudio's products and packages and we try to emulate the Rstudio approach to data science. If you are not familiar with Rstudio, we highly recommend the resources on their [website](https://www.rstudio.com/) and their packages.

Rstudio's packages are built with the [tidy data](http://tidyverse.org/) philosophy for data science.  This allows them to work nicely together and have consistent and powerful APIs.  

Rstudio's packages are also easy to use out of the box.  Their packages allow the user to get a minimal result with very little knowledge of the package.  They do this while still allowing for a high degree of flexibility as you learn more about the package.  This package design structure minimizes the frustration associated with learning new things and it encourages the user to gradually dive deeper as she needs a higher amount of customization.

We have adopted the Rstudio philosophy of tidy data analysis and a "simple defaults with great flexibility" approach to building packages.
